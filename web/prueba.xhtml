<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
         <meta charset="utf-8"></meta>
        <title>Prueba</title>
   
        <link rel="stylesheet" type="text/css" href="css/bootstrap.css"></link>
         <f:event listener="#{usuarioController.miraSession()}" type="preRenderView"></f:event>
    </h:head>
    <h:body>
             <form id="formato" style="margin-right: 330px">
                <div class="containergerenteEventos">
                    <div class="row">
                        <div id="forms" class="col-md-6 col-md-offset-3 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1 " style="width: 800px; ">

                            <h1>Listado de socios</h1>
                            <hr>
                                <h4>Ac√° encontrara los socios que pueden remplazar a #{gerenteController.user.nombre} en el cargo de Gerente.</h4>
                                <div class="form-group" >
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>Cedula</th>
                                                <th>Nombre</th>
                                                <th>Apellido</th>
                                                <th>Direccion</th>
                                                <th>Correo</th>
                                                <th> Es Gerente?</th>

                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody>

                                            <c:forEach var="adm" items="#{gerenteController.listargerentes()}" >
                                                <tr>

                                                    <td id="id">#{adm.id}</td>
                                                    <td id="nom" >#{adm.nombre} </td>
                                                    <td id="ape">#{adm.apelido}</td>
                                                    <td id="dir">#{adm.direccion}</td>
                                                    <td id="cor">#{adm.correo} </td>
                                                    
                                                    <h:form> 
                                                        <c:if test="${adm.rol == 2 }">
                                                    <td><h:commandButton class="btn btn-success" value="si"></h:commandButton></td>   
                                                   
                                                    </c:if>

                                                        <c:if test="${adm.rol != 2}">
                                                            <td><h:commandButton class="btn btn-danger" value="no" action="#{gerenteController.crearGerente1()}">
                                                            
                                                                <f:setPropertyActionListener value="#{adm}" target="#{gerenteController.user}"></f:setPropertyActionListener>
                                                            
                                                            </h:commandButton></td>    
                                                    </c:if>   
                                                    </h:form>
                                                        
                                             
                                                        
                                                           


                                                      
                                                
                                                </tr>
                                            </c:forEach>
                                        </tbody>

                                    </table>
                                    <button type="sumit" class="ui button black">Volver a inicio</button>
                                </div>
                            </hr>
                        </div>

                    </div>
                </div>
            </form>  
                                   



    </h:body>
</html>

